---
title: 左耳听风-读书笔记
date: 2018-07-10 20:34:55
tags: 
- 摘录
categories: 
- 书籍
---

__阅读更多__

<!--more-->

# 1 原版传送门

如要学习完整内容，请猛戳⬇⬇⬇（支持耗子叔，支持原版）

[课程购买链接](https://time.geekbang.org/column/intro/48)

# 2 区块链

## 2.1 技术概要

__比特币的特性__

1. 去中心化
1. 数据防篡改
1. 固定的发行量

__去中心化网络的前提__：网络中的任何节点都是不能信任的，它们中的任何一个都可能会作恶

__基于上述前提，分布式的记账系统必须满足如下要求__

1. 任何人都可以拿到所有数据
1. 数据的正确性很容易验证
1. 数据极难被篡改

__区块链中的一个区块至少包含如下内容__

1. 当前区块的id
1. 上一个区块的id
1. 数据
* 注意，上面提到的id，都是与内容相关的，只要内容（包括2和3）发生改变，id以极大的概率会改变

__区块id的计算，就是工作量证明共识机制（Proof-of-Work）__

1. 区块id的正确性必须容易被验证。__当前区块的内容__（前一个区块的id+数据）经过指定hash算法运算后得到的结果就是__当前区块的id__，否则就是不可信数据
1. 区块id的产生非常耗费计算资源，以至于修改几乎不可能。要求产生的id前n位是0，n会随着整个网络的计算资源大小进行调整，从而保证一个相对恒定的产量

__工作量证明机制（Proof-of-Work）可以有效解决如下问题__

1. 修改几乎变得不可能
1. 能掌握51%算力的人也变得几乎不可能
1. 解决分歧

## 2.2 Hash算法

__著名的hash算法__

1. MD5
1. SHA-256

下面重点介绍一下比特币的hash算法，比特币的区块头包含如下字段

1. Version：当前区块链协议的版本号。4个字节
1. Previous Block Hash：前面区块的hash地址。32个字节
1. Merkle Root：交易信息（数据）的hash值。32个字节
1. Timestamp：区块生成时间。4个字节
1. Bits：表明当前hash生成的难度。4个字节
1. Nonce：一个随机数，用于找到满足某个条件的hash值。4个字节

通过对五个字段进行hash计算（用SHA-256进行两次运算），就可以得到本区块的hash值，也就是id或者地址。这个hash值是有要求的，难度由Bits字段控制，旷工可以调整Nonce的数值来找到符合条件的hash值

## 2.3 阿斯蒂芬

区块链的CAP

1. 去中心化
1. 安全性
1. 高性能

# 3 分布式架构入门

分布式技术涵盖如下几个方面

1. __服务调度__：涉及服务发现、配置管理、弹性伸缩、故障恢复等
1. __资源调度__：涉及对底层资源的调度使用，如计算资源、网络资源和存储资源等
1. __流量调度__：涉及路由、负载均衡、流控、熔断等
1. __数据调度__：涉及数据副本、数据一致性、分布式事务、分库、分表等
1. __容错处理__：涉及隔离、幂等、重试、业务补偿、异步、降级等
1. __自动化运维__：涉及持续集成、持续部署、全栈监控、调用链跟踪等
